<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en-us" lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2005"/>
<meta name="DC.rights.owner" content="(C) Copyright 2005"/>
<meta name="DC.Type" content="reference"/>
<meta name="DC.Title" content="Operator MessageHubProducer"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="spldoc_operator"/>
<link rel="stylesheet" type="text/css" href="../../html/commonltr.css"/>
<link rel="stylesheet" type="text/css" href="../../html/spldoc.css"/>
<title>Operator MessageHubProducer</title>
</head>
<body id="spldoc_operator">


<h1 class="title topictitle1">Operator <tt class="ph tt">MessageHubProducer</tt></h1>

<div class="body refbody">
<div class="section">
<p class="p">
<a class="xref" href="../toolkits/toolkits.html">Message Hub Toolkit</a> &gt; <a class="xref" href="tk$com.ibm.streamsx.messagehub.html">com.ibm.streamsx.messagehub 1.5.1</a> &gt; <a class="xref" href="ns$com.ibm.streamsx.messagehub.html">com.ibm.streamsx.messagehub</a> &gt; MessageHubProducer</p>

</div>

<div class="section splprimop">
  <embed class="image" src="../../image/tk$com.ibm.streamsx.messagehub/op$com.ibm.streamsx.messagehub$MessageHubProducer.svg" width="872" height="112"/>
</div>

<div class="section">

<p class="p">The <strong class="ph b">MessageHubProducer</strong> operator is used to consume records from the IBM Cloud Message Hub service. The operator has been designed to make connectivity to the service as simple as possible. This is achieved in a number of different ways, from having default values for the <strong class="ph b">appConfigName</strong> parameter to allowing the user to copy/paste the raw Message Hub Credentials JSON into either an application configuration property or a file.
</p>

<p class="p">The following table lists the default values that have been set by this operator for a couple of parameters: 
</p>

<div class="p">

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" frame="border" border="1" rules="all">



<thead class="thead" align="left">
<tr class="row">
<th class="entry" colspan="1" valign="top" id="d12372e69">
<p class="p">Parameter
</p>

</th>

<th class="entry" colspan="1" valign="top" id="d12372e75">
<p class="p">Default Value
</p>

</th>

<th class="entry" colspan="1" valign="top" id="d12372e81">
<p class="p">Description
</p>

</th>

</tr>

</thead>

<tbody class="tbody">
<tr class="row">
<td class="entry" colspan="1" valign="top" headers="d12372e69 ">
<p class="p"><strong class="ph b">appConfigName</strong>
</p>

</td>

<td class="entry" colspan="1" valign="top" headers="d12372e75 ">
<p class="p"><tt class="ph tt">messagehub</tt>
</p>

</td>

<td class="entry" colspan="1" valign="top" headers="d12372e81 ">
<p class="p">Users can choose to place the raw MesageHub Credentials JSON in a property called <tt class="ph tt">messagehub.creds</tt> in an application configuration called <tt class="ph tt">messagehub</tt>. The operator will extract the information needed to connect to Message Hub.
</p>

</td>

</tr>

<tr class="row">
<td class="entry" colspan="1" valign="top" headers="d12372e69 ">
<p class="p"><strong class="ph b">messageHubCredentialsFile</strong>
</p>

</td>

<td class="entry" colspan="1" valign="top" headers="d12372e75 ">
<p class="p"><tt class="ph tt">etc/messagehub.json</tt>
</p>

</td>

<td class="entry" colspan="1" valign="top" headers="d12372e81 ">
<p class="p">Users can paste the raw Message Hub Credentials JSON into a file pointed to by this parameter. The operator will extract the information needed to connect to Message Hub. By default, the operator will look for a file called <tt class="ph tt">etc/messagehub.json</tt>.
</p>

</td>

</tr>

</tbody>

</table>
</div>

</div>

</div>

<div class="section"><h2 class="title sectiontitle">Setup
</h2>

<p class="p">This section outlines different options for enabling the <strong class="ph b">MessageHubProducer</strong> operator to connet to IBM Cloud Message Hub. Any of the following options can be used to configure the operator for connecting to IBM Cloud. 
</p>

<p class="p"><strong class="ph b">Save Credentials in Application Configuration Property</strong>
</p>

<p class="p">With this option, users can copy their Message Hub Credentials JSON from the Message Hub service and store it in an application configuration property called <tt class="ph tt">messagehub.creds</tt>. When the operator starts, it will look for that property and extract the information needed to connect. The following steps outline how this can be done: 
</p>

<div class="p">
<ol class="ol">
<li class="li"> Create an application configuration called <tt class="ph tt">messagehub</tt>.</li>

<li class="li"> Create a property in the <tt class="ph tt">messagehub</tt> application configuration with <em class="ph i">name</em> <tt class="ph tt">messagehub.creds</tt>.
<ul class="ul">
<li class="li"> The <em class="ph i">value</em> of the property should be the raw Message Hub Credentials JSON</li>

</ul>
</li>

<li class="li"> The operator will automatically look for an application configuration named <tt class="ph tt">messagehub</tt> and will extract the information needed to connect. Users only need to specify the topic(s) that they wish to consume messages from (set via the <strong class="ph b">topic</strong> parameter).</li>

</ol>

</div>

<p class="p"><strong class="ph b">NOTE 1:</strong> Users can specify a different application configuration name by setting the <strong class="ph b">appConfigName</strong> parameter. The operator will still look for a property called <tt class="ph tt">messagehub.creds</tt> containing the Message Hub Credentials JSON. 
</p>

<p class="p"><strong class="ph b">NOTE 2:</strong> Users can add generic Kafka properties, for example client.id, to the application configuration that already contains the service credentials. To make the operator use these Kafka properties, the <strong class="ph b">appConfigName</strong> parameter must be specified even if the default application configuration name <tt class="ph tt">messagehub</tt> is used. Looking at the other way round, when the default application configuration name <tt class="ph tt">messagehub</tt> is used, but not specified as <strong class="ph b">appConfigName</strong> parameter value, only the service credentials are used from the application config.
</p>

<p class="p"><strong class="ph b">Save Credentials in File</strong>
</p>

<p class="p">With this option, users can copy their Message Hub credentials JSON from the Message Hub service and store it in a file called <tt class="ph tt">messagehub.json</tt>. When the operator starts up it will read the credentials from that file and extract the information needed to connect. The following steps outline how this can be done: 
</p>

<div class="p">
<ol class="ol">
<li class="li"> Create a file called <tt class="ph tt">messagehub.json</tt> in the <tt class="ph tt">&lt;application_directory&gt;/etc/</tt> directory. </li>

<li class="li"> Paste the Message Hub Credentials JSON into this file and save it. </li>

<li class="li"> The operator will automatically look for the file <tt class="ph tt">&lt;application_directory&gt;/etc/messagehub.json</tt> and will extract the information needed to connect.</li>

</ol>

</div>

<p class="p"><strong class="ph b">NOTE:</strong> Users can use the <strong class="ph b">messageHubCredentialsFile</strong> parameter to specify a different file containing the Message Hub Credentials JSON.
</p>

<p class="p">Users only need to specify the topic that they wish to produce messages to (set via the <strong class="ph b">topic</strong> parameter).
</p>

</div>

<div class="section"><h2 class="title sectiontitle">Additional Operator Details
</h2>

</div>

<div class="section"><h2 class="title sectiontitle">Kafka Properties
</h2>

<p class="p">The operator implements Kafka's Producer API. As a result, it supports all Kafka properties that are supported by the underlying API. The producer properties can be found in the <a class="xref" href="https://kafka.apache.org/documentation/#producerconfigs">Apache Kafka documentation</a>. Properties can be specified in a file or in an application configuration. If specifying properties via a file, the <strong class="ph b">propertiesFile</strong> parameter can be used. If specifying properties in an application configuration, the name of the application configuration must be specified using the <strong class="ph b">appConfigName</strong> parameter. 
</p>

</div>

<div class="section"><h2 class="title sectiontitle">Kafka consumer properties that cannot be overwritten by the user
</h2>

<div class="p">

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" frame="border" border="1" rules="all">


<thead class="thead" align="left">
<tr class="row">
<th class="entry" colspan="1" valign="top" id="d12372e343">
<p class="p">property name
</p>

</th>

<th class="entry" colspan="1" valign="top" id="d12372e349">
<p class="p">value
</p>

</th>

</tr>

</thead>

<tbody class="tbody">
<tr class="row">
<td class="entry" colspan="1" valign="top" headers="d12372e343 ">
<p class="p">bootstrap.servers
</p>

</td>

<td class="entry" colspan="1" valign="top" headers="d12372e349 ">
<p class="p"><em class="ph i">parsed from the service credentials</em>
</p>

</td>

</tr>

<tr class="row">
<td class="entry" colspan="1" valign="top" headers="d12372e343 ">
<p class="p">sasl.jaas.config
</p>

</td>

<td class="entry" colspan="1" valign="top" headers="d12372e349 ">
<p class="p">org.apache.kafka.common.security.plain.PlainLoginModule required serviceName="kafka" username="<em class="ph i">username</em>" password="<em class="ph i">password</em>";
</p>

</td>

</tr>

<tr class="row">
<td class="entry" colspan="1" valign="top" headers="d12372e343 ">
<p class="p">security.protocol
</p>

</td>

<td class="entry" colspan="1" valign="top" headers="d12372e349 ">
<p class="p">SASL_SSL
</p>

</td>

</tr>

<tr class="row">
<td class="entry" colspan="1" valign="top" headers="d12372e343 ">
<p class="p">sasl.mechanism
</p>

</td>

<td class="entry" colspan="1" valign="top" headers="d12372e349 ">
<p class="p">PLAIN
</p>

</td>

</tr>

<tr class="row">
<td class="entry" colspan="1" valign="top" headers="d12372e343 ">
<p class="p">ssl.protocol
</p>

</td>

<td class="entry" colspan="1" valign="top" headers="d12372e349 ">
<p class="p">TLSv1.2
</p>

</td>

</tr>

<tr class="row">
<td class="entry" colspan="1" valign="top" headers="d12372e343 ">
<p class="p">ssl.truststore.type
</p>

</td>

<td class="entry" colspan="1" valign="top" headers="d12372e349 ">
<p class="p">JKS
</p>

</td>

</tr>

<tr class="row">
<td class="entry" colspan="1" valign="top" headers="d12372e343 ">
<p class="p">ssl.enabled.protocols
</p>

</td>

<td class="entry" colspan="1" valign="top" headers="d12372e349 ">
<p class="p">TLSv1.2
</p>

</td>

</tr>

<tr class="row">
<td class="entry" colspan="1" valign="top" headers="d12372e343 ">
<p class="p">ssl.endpoint.identification.algorithm
</p>

</td>

<td class="entry" colspan="1" valign="top" headers="d12372e349 ">
<p class="p">HTTPS
</p>

</td>

</tr>

</tbody>

</table>
</div>

</div>

<p class="p">These properties cannot be overwritten by specific Kafka properties provided via properties file or application configuration. They are ignored when specified in a property file or application configuration. In addition to the properties above, the following properties are set by default or adjusted:
</p>

</div>

<div class="section"><h2 class="title sectiontitle">Kafka producer properties that are setup or adjusted by the operator
</h2>

<div class="p">

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" frame="border" border="1" rules="all">


<thead class="thead" align="left">
<tr class="row">
<th class="entry" colspan="1" valign="top" id="d12372e515">
<p class="p">Property name
</p>

</th>

<th class="entry" colspan="1" valign="top" id="d12372e521">
<p class="p">Default Value
</p>

</th>

</tr>

</thead>

<tbody class="tbody">
<tr class="row">
<td class="entry" colspan="1" valign="top" headers="d12372e515 ">
<p class="p">client.id
</p>

</td>

<td class="entry" colspan="1" valign="top" headers="d12372e521 ">
<p class="p">Generated ID in the form: <tt class="ph tt">C-J&lt;JobId&gt;-&lt;operator name&gt;</tt>
</p>

</td>

</tr>

<tr class="row">
<td class="entry" colspan="1" valign="top" headers="d12372e515 ">
<p class="p">key.serializer
</p>

</td>

<td class="entry" colspan="1" valign="top" headers="d12372e521 ">
<p class="p">See <strong class="ph b">Automatic Serialization</strong> section below
</p>

</td>

</tr>

<tr class="row">
<td class="entry" colspan="1" valign="top" headers="d12372e515 ">
<p class="p">value.serializer
</p>

</td>

<td class="entry" colspan="1" valign="top" headers="d12372e521 ">
<p class="p">See <strong class="ph b">Automatic Serialization</strong> section below
</p>

</td>

</tr>

<tr class="row">
<td class="entry" colspan="1" valign="top" headers="d12372e515 ">
<p class="p">enable.idempotence
</p>

</td>

<td class="entry" colspan="1" valign="top" headers="d12372e521 ">
<p class="p"><tt class="ph tt">true</tt> only when in consistent region and <strong class="ph b">consistentRegionPolicy</strong> parameter is set to <tt class="ph tt">Transactional</tt>.
</p>

</td>

</tr>

<tr class="row">
<td class="entry" colspan="1" valign="top" headers="d12372e515 ">
<p class="p">transactional.id
</p>

</td>

<td class="entry" colspan="1" valign="top" headers="d12372e521 ">
<p class="p">Randomly generated ID in the form: <tt class="ph tt">tid-&lt;random_string&gt;</tt> only when in consistent region and <strong class="ph b">consistentRegionPolicy</strong> parameter is set to <tt class="ph tt">Transactional</tt>.
</p>

</td>

</tr>

<tr class="row">
<td class="entry" colspan="1" valign="top" headers="d12372e515 ">
<p class="p">transaction.timeout.ms
</p>

</td>

<td class="entry" colspan="1" valign="top" headers="d12372e521 ">
<p class="p">adjusted to a minimum of <tt class="ph tt">drain timeout + 120000 milliseconds</tt>, but not greater than <tt class="ph tt">900000</tt>. Adjusted only when in consistent region and <strong class="ph b">consistentRegionPolicy</strong> parameter is set to <tt class="ph tt">Transactional</tt>.
</p>

</td>

</tr>

</tbody>

</table>
</div>

</div>

<p class="p"><strong class="ph b">NOTE:</strong> Although properties are adjusted, users can override any of the above properties by explicitly setting the property value in either a properties file or in an application configuration. 
</p>

</div>

<div class="section"><h2 class="title sectiontitle">Kafka Properties via Application Configuration
</h2>

<p class="p">Users can specify Kafka properties using Streams' application configurations. Information on configuring application configurations can be found here: <a class="xref" href="https://www.ibm.com/support/knowledgecenter/SSCRJU_4.2.1/com.ibm.streams.admin.doc/doc/creating-secure-app-configs.html">Creating application configuration objects to securely store data</a>. Each property set in the application configuration will be loaded as a Kafka property. For example, to specify the cipher suites for SSL that should be used for secure connections, an app config property named <tt class="ph tt">ssl.cipher.suites</tt> should be created.
</p>

</div>

<div class="section"><h2 class="title sectiontitle">Automatic Serialization
</h2>

<p class="p">The operator will automatically select the appropriate serializers for the key and message based on their types. The following table outlines which deserializer will be used given a particular type: 
</p>

<div class="p">

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" frame="border" border="1" rules="all">


<thead class="thead" align="left">
<tr class="row">
<th class="entry" colspan="1" valign="top" id="d12372e708">
<p class="p">Serializer
</p>

</th>

<th class="entry" colspan="1" valign="top" id="d12372e714">
<p class="p">SPL Types
</p>

</th>

</tr>

</thead>

<tbody class="tbody">
<tr class="row">
<td class="entry" colspan="1" valign="top" headers="d12372e708 ">
<p class="p">org.apache.kafka.common.serialization.StringSerializer
</p>

</td>

<td class="entry" colspan="1" valign="top" headers="d12372e714 ">
<p class="p">rstring
</p>

</td>

</tr>

<tr class="row">
<td class="entry" colspan="1" valign="top" headers="d12372e708 ">
<p class="p">org.apache.kafka.common.serialization.IntegerSerializer
</p>

</td>

<td class="entry" colspan="1" valign="top" headers="d12372e714 ">
<p class="p">int32, uint32
</p>

</td>

</tr>

<tr class="row">
<td class="entry" colspan="1" valign="top" headers="d12372e708 ">
<p class="p">org.apache.kafka.common.serialization.LongSerializer
</p>

</td>

<td class="entry" colspan="1" valign="top" headers="d12372e714 ">
<p class="p">int64, uint64
</p>

</td>

</tr>

<tr class="row">
<td class="entry" colspan="1" valign="top" headers="d12372e708 ">
<p class="p">org.apache.kafka.common.serialization.FloatSerializer
</p>

</td>

<td class="entry" colspan="1" valign="top" headers="d12372e714 ">
<p class="p">float32
</p>

</td>

</tr>

<tr class="row">
<td class="entry" colspan="1" valign="top" headers="d12372e708 ">
<p class="p">org.apache.kafka.common.serialization.DoubleSerializer
</p>

</td>

<td class="entry" colspan="1" valign="top" headers="d12372e714 ">
<p class="p">float64
</p>

</td>

</tr>

<tr class="row">
<td class="entry" colspan="1" valign="top" headers="d12372e708 ">
<p class="p">org.apache.kafka.common.serialization.ByteArraySerializer
</p>

</td>

<td class="entry" colspan="1" valign="top" headers="d12372e714 ">
<p class="p">blob
</p>

</td>

</tr>

</tbody>

</table>
</div>

</div>

</div>

<div class="section"><h2 class="title sectiontitle">Checkpointing
</h2>

<p class="p">The operator does not support a <tt class="ph tt">config checkpoint</tt> clause. A compiler error will occur when checkpointing is configured.
</p>

</div>

<div class="section"><h2 class="title sectiontitle">Consistent Region Strategy
</h2>

<p class="p">The producer operator can participate in a consistent region. The operator cannot be the start of a consistent region. When the consistent region drains, the operator flushes all accumulated outstanding records to the Kafka cluster.
</p>

<p class="p">The operator supports <em class="ph i">non-transactional</em> (default behavior) and <em class="ph i">transactional</em> message delivery. The delivery can be controlled by the <strong class="ph b">consistentRegionPolicy</strong> parameter. 
</p>

</div>

<div class="section"><h2 class="title sectiontitle"><em class="ph i">Non-transactional</em> delivery
</h2>

<p class="p">If the operator crashes or is reset while in a consistent region, the operator will write all tuples replayed. This ensures that every tuple sent to the operator will be written to the topic(s). However, <em class="ph i">non-transactional</em> message delivery implies that duplicate messages may be written to the topic(s).
</p>

</div>

<div class="section"><h2 class="title sectiontitle"><em class="ph i">Transactional</em> delivery
</h2>

<p class="p">Messages are always inserted into a topic within the context of a transaction. Transactions are committed when the operator checkpoints. If the operator crashes or is reset while in a consistent region, the operator will abort an ongoing transaction and write all tuples replayed within a new transaction. External consumers configured with <tt class="ph tt">isolation.level=read_committed</tt> will not read the duplicates from the aborted transactions. Consumers that use a different isolation level will read duplicate messages as if they were produced without being part of a transaction.
</p>

<p class="p">For consumers that read the output topics with <tt class="ph tt">isolation.level=read_committed</tt>, the transactional producer minimizes number if duplicate messages with the downside that the produced messages are only visible at the checkpoint interval, which can be interpreted as additional latency.
</p>

<p class="p">A consumer that reads the output topics with <tt class="ph tt">isolation.level=read_committed</tt> can read duplicate messages when the consistent region fails after the Kafka transaction has been committed, but before the region has reached a consistent state.
</p>

<p class="p"><strong class="ph b">NOTE 1:</strong> Transactions in Kafka have an inactivity timeout, which is configured by the producer property <tt class="ph tt">transaction.timeout.ms</tt>. This timeout is adjusted by the operator to a minimum of the drain timeout plus 120 seconds. The maximum value of this property is limited by the server property <tt class="ph tt">transaction.max.timeout.ms</tt>, which has a default value of 900000. The operator opens a transaction when the first tuple of a consistent cut is processed. Every tuple being processed resets the inactivity timer.
</p>

<p class="p"><strong class="ph b">NOTE 2:</strong> For <em class="ph i">transactional</em> delivery, the Kafka broker must have version 0.11 or higher. Older brokers do not support transactions. For the Event Streams cloud service, a plan that contains Kafka broker version 0.11 or higher, must be selected to use transactions for message delivery.
</p>

</div>

<div class="section"><h2 class="title sectiontitle">Error Handling
</h2>

<p class="p">Many exceptions thrown by the underlying Kafka API are considered fatal. In the event that Kafka throws an exception, the operator will restart. Some exceptions can be retried, such as those that occur due to network error. Users are encouraged to set the KafkaProducer <tt class="ph tt">retries</tt> property to a value greater than 0 to enable the producer's retry mechanism.
</p>

</div>

<div class="section"><h2 class="title sectiontitle splhead-1">Summary</h2>

<dl class="dl" compact="compact">
 
  <dt class="dt dlterm">Ports</dt>

  <dd class="dd">This operator has 1 input port and 0 output ports.</dd>

 
 
  <dt class="dt dlterm">Windowing</dt>

  <dd class="dd">This operator does not accept any windowing configurations.</dd>

 
 
  <dt class="dt dlterm">Parameters</dt>

  <dd class="dd">This operator supports 12 parameters.
<p class="p"> Optional: 
<a class="xref" href="#spldoc_operator__parameter__appConfigName">appConfigName</a>, <a class="xref" href="#spldoc_operator__parameter__clientId">clientId</a>, <a class="xref" href="#spldoc_operator__parameter__consistentRegionPolicy">consistentRegionPolicy</a>, <a class="xref" href="#spldoc_operator__parameter__keyAttribute">keyAttribute</a>, <a class="xref" href="#spldoc_operator__parameter__messageAttribute">messageAttribute</a>, <a class="xref" href="#spldoc_operator__parameter__messageHubCredentialsFile">messageHubCredentialsFile</a>, <a class="xref" href="#spldoc_operator__parameter__partitionAttribute">partitionAttribute</a>, <a class="xref" href="#spldoc_operator__parameter__propertiesFile">propertiesFile</a>, <a class="xref" href="#spldoc_operator__parameter__timestampAttribute">timestampAttribute</a>, <a class="xref" href="#spldoc_operator__parameter__topic">topic</a>, <a class="xref" href="#spldoc_operator__parameter__topicAttribute">topicAttribute</a>, <a class="xref" href="#spldoc_operator__parameter__userLib">userLib</a>

</p>
</dd>

 
 
  <dt class="dt dlterm">Metrics</dt>

  <dd class="dd">This operator does not report any metrics.</dd>

 
</dl>
</div>

<div class="section"><h2 class="title sectiontitle splhead-1">Properties</h2>

<dl class="dl" compact="compact">
 
  <dt class="dt dlterm">Implementation</dt>

  <dd class="dd">Java</dd>

 
</dl>

</div>

<div class="section">
<p class="p splhead-1"><strong class="ph b"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__input_port_set">Input Ports</a></strong></p>
<dl class="dl">
  
   <dt class="dt dlterm">Ports (0)</dt>

   <dd class="dd">

<p class="p">Port that consumes tuples
</p>
   </dd>

  
    
      <dt class="dt dlterm">Properties</dt>

      <dd class="dd">
   <ul class="sl simple">
     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__input_port_set__optional">Optional</a>: false
     </li>

   </ul>

   <ul class="sl simple">
     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__input_port_set__controlport">ControlPort</a>: false
</li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__input_port_set__windowingmode">WindowingMode</a>: NonWindowed
</li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__input_port_set__windowpunctuationinputmode">WindowPunctuationInputMode</a>: Oblivious
</li>

   </ul>

      </dd>

    
</dl>

</div>

<div class="section">
<p class="p splhead-1"><strong class="ph b"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters">Parameters</a></strong></p>
This operator supports 12 parameters.
<p class="p"> Optional: 
<a class="xref" href="#spldoc_operator__parameter__appConfigName">appConfigName</a>, <a class="xref" href="#spldoc_operator__parameter__clientId">clientId</a>, <a class="xref" href="#spldoc_operator__parameter__consistentRegionPolicy">consistentRegionPolicy</a>, <a class="xref" href="#spldoc_operator__parameter__keyAttribute">keyAttribute</a>, <a class="xref" href="#spldoc_operator__parameter__messageAttribute">messageAttribute</a>, <a class="xref" href="#spldoc_operator__parameter__messageHubCredentialsFile">messageHubCredentialsFile</a>, <a class="xref" href="#spldoc_operator__parameter__partitionAttribute">partitionAttribute</a>, <a class="xref" href="#spldoc_operator__parameter__propertiesFile">propertiesFile</a>, <a class="xref" href="#spldoc_operator__parameter__timestampAttribute">timestampAttribute</a>, <a class="xref" href="#spldoc_operator__parameter__topic">topic</a>, <a class="xref" href="#spldoc_operator__parameter__topicAttribute">topicAttribute</a>, <a class="xref" href="#spldoc_operator__parameter__userLib">userLib</a>

</p>
<dl class="dl">

<dt class="dt dlterm"><a name="spldoc_operator__parameter__appConfigName"><!-- --></a><tt class="ph tt">appConfigName</tt></dt>

<dd class="dd">
<p class="p">Specifies the name of the application configuration containing Kafka properties.
</p>
<dl class="dl">

 <dt class="dt dlterm">Properties </dt>

 <dd class="dd">
  <ul class="sl simple">
  <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__type">Type</a>: rstring
  </li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__cardinality">Cardinality</a>: 1
     </li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__optional">Optional</a>: true
     </li>

  </ul>

 </dd>


</dl>

</dd>



<dt class="dt dlterm"><a name="spldoc_operator__parameter__clientId"><!-- --></a><tt class="ph tt">clientId</tt></dt>

<dd class="dd">
<p class="p">Specifies the client ID that should be used when connecting to the Kafka cluster. The value specified by this parameter will override the <tt class="ph tt">client.id</tt> Kafka property if specified. If this parameter is not specified and the <tt class="ph tt">client.id</tt> Kafka property is not specified, the operator will create an ID with the pattern <tt class="ph tt">C-J&lt;job-ID&gt;-&lt;operator name&gt;</tt> for a consumer operator, and <tt class="ph tt">P-J&lt;job-ID&gt;-&lt;operator name&gt;</tt> for a producer operator.
</p>
<dl class="dl">

 <dt class="dt dlterm">Properties </dt>

 <dd class="dd">
  <ul class="sl simple">
  <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__type">Type</a>: rstring
  </li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__cardinality">Cardinality</a>: 1
     </li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__optional">Optional</a>: true
     </li>

  </ul>

 </dd>


</dl>

</dd>



<dt class="dt dlterm"><a name="spldoc_operator__parameter__consistentRegionPolicy"><!-- --></a><tt class="ph tt">consistentRegionPolicy</tt></dt>

<dd class="dd">
<p class="p">Specifies the policy to use when in a consistent region.
</p>

<p class="p">When <tt class="ph tt">NonTransactional</tt> is specified, the operator guarantees that every tuple is written to the topic(s) at least once. When the consistent region resets, duplicates will most likely appear in the output topic(s). For consumers of the output topics, messages appears as they are produced.
</p>

<p class="p"> When <tt class="ph tt">Transactional</tt> is specified, the operator will write tuples to the topic(s) within the context of a transaction. Transactions are commited when the operator checkpoints. This implies that downstream Kafka consumers may not see the messages until operator checkpoints. Transactional delivery minimizes (though not eliminates) duplicate messages for consumers of the output topics when they are configured with the consumer property <tt class="ph tt">isolation.level=read_committed</tt>. Consumers that read with the default isolation level <tt class="ph tt">read_uncommitted</tt> see all messages as they are produced. For these consumers, there is no difference between transactional and non-transactional message delivery.
</p>

<p class="p">For backward compatibility, the parameter value <tt class="ph tt">AtLeastOnce</tt> can also be specified, but is deprecated and can be removed in a future version. <tt class="ph tt">AtLeastOnce</tt> is equivalent to <tt class="ph tt">NonTransactional</tt>.
</p>

<p class="p">This parameter is ignored if the operator is not part of a consistent region. The default value is <tt class="ph tt">NonTransactional</tt>. <strong class="ph b">NOTE</strong>: Kafka brokers older than version v0.11 do not support transactions.
</p>
<dl class="dl">

 <dt class="dt dlterm">Properties </dt>

 <dd class="dd">
  <ul class="sl simple">
  <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__type">Type</a>: com.ibm.streamsx.kafka.clients.producer.ConsistentRegionPolicy
 (<tt class="ph tt">AtLeastOnce, NonTransactional, Transactional</tt>)  </li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__cardinality">Cardinality</a>: 1
     </li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__optional">Optional</a>: true
     </li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__expressionmode">ExpressionMode</a>: CustomLiteral
     </li>

  </ul>

 </dd>


</dl>

</dd>



<dt class="dt dlterm"><a name="spldoc_operator__parameter__keyAttribute"><!-- --></a><tt class="ph tt">keyAttribute</tt></dt>

<dd class="dd">
<p class="p">Specifies the input attribute that contains the Kafka key value. If not specified, the operator will look for an input attribute named <em class="ph i">key</em>.
</p>
<dl class="dl">

 <dt class="dt dlterm">Properties </dt>

 <dd class="dd">
  <ul class="sl simple">
     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__cardinality">Cardinality</a>: 1
     </li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__optional">Optional</a>: true
     </li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__expressionmode">ExpressionMode</a>: Attribute
     </li>

  </ul>

 </dd>


</dl>

</dd>



<dt class="dt dlterm"><a name="spldoc_operator__parameter__messageAttribute"><!-- --></a><tt class="ph tt">messageAttribute</tt></dt>

<dd class="dd">
<p class="p">Specifies the attribute on the input port that contains the message payload. If not specified, the operator will look for an input attribute named <em class="ph i">message</em>. If this parameter is not specified and there is no input attribute named <em class="ph i">message</em>, the operator will throw an exception and terminate.
</p>
<dl class="dl">

 <dt class="dt dlterm">Properties </dt>

 <dd class="dd">
  <ul class="sl simple">
     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__cardinality">Cardinality</a>: 1
     </li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__optional">Optional</a>: true
     </li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__expressionmode">ExpressionMode</a>: Attribute
     </li>

  </ul>

 </dd>


</dl>

</dd>



<dt class="dt dlterm"><a name="spldoc_operator__parameter__messageHubCredentialsFile"><!-- --></a><tt class="ph tt">messageHubCredentialsFile</tt></dt>

<dd class="dd">
<p class="p">Specifies the name of the file that contains the complete Message Hub credentials JSON. If not specified, this parameter will attempt to load the credentials from the file <tt class="ph tt">etc/messagehub.json</tt>. A relative path is always interpreted as relative to the <em class="ph i">application directory</em> of the Streams application.
</p>
<dl class="dl">

 <dt class="dt dlterm">Properties </dt>

 <dd class="dd">
  <ul class="sl simple">
  <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__type">Type</a>: rstring
  </li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__cardinality">Cardinality</a>: 1
     </li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__optional">Optional</a>: true
     </li>

  </ul>

 </dd>


</dl>

</dd>



<dt class="dt dlterm"><a name="spldoc_operator__parameter__partitionAttribute"><!-- --></a><tt class="ph tt">partitionAttribute</tt></dt>

<dd class="dd">
<p class="p">Specifies the input attribute that contains the partition number that the message should be written to. If this parameter is not specified, the operator will look for an input attribute named <strong class="ph b">partition</strong>. If the user does not indicate which partition the message should be written to, then Kafka's default partitioning strategy will be used instead (partition based on the specified partitioner or in a round-robin fashion).
</p>
<dl class="dl">

 <dt class="dt dlterm">Properties </dt>

 <dd class="dd">
  <ul class="sl simple">
  <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__type">Type</a>: int32
  </li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__cardinality">Cardinality</a>: 1
     </li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__optional">Optional</a>: true
     </li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__expressionmode">ExpressionMode</a>: Attribute
     </li>

  </ul>

 </dd>


</dl>

</dd>



<dt class="dt dlterm"><a name="spldoc_operator__parameter__propertiesFile"><!-- --></a><tt class="ph tt">propertiesFile</tt></dt>

<dd class="dd">
<p class="p">Specifies the name of the properties file containing Kafka properties. A relative path is always interpreted as relative to the <em class="ph i">application directory</em> of the Streams application.
</p>
<dl class="dl">

 <dt class="dt dlterm">Properties </dt>

 <dd class="dd">
  <ul class="sl simple">
  <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__type">Type</a>: rstring
  </li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__cardinality">Cardinality</a>: 1
     </li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__optional">Optional</a>: true
     </li>

  </ul>

 </dd>


</dl>

</dd>



<dt class="dt dlterm"><a name="spldoc_operator__parameter__timestampAttribute"><!-- --></a><tt class="ph tt">timestampAttribute</tt></dt>

<dd class="dd">
<p class="p">Specifies the attribute on the input port that contains the timestamp for the message. If not specified, the operator will look for an input attribute named <em class="ph i">messageTimestamp</em>. If this parameter is not specified and there is no input attribute named <em class="ph i">messageTimestamp</em>, the operator will use the timestamp provided by Kafka (broker config <tt class="ph tt">log.message.timestamp.type=[CreateTime|LogAppendTime]</tt>).
</p>
<dl class="dl">

 <dt class="dt dlterm">Properties </dt>

 <dd class="dd">
  <ul class="sl simple">
  <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__type">Type</a>: int64
  </li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__cardinality">Cardinality</a>: 1
     </li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__optional">Optional</a>: true
     </li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__expressionmode">ExpressionMode</a>: Attribute
     </li>

  </ul>

 </dd>


</dl>

</dd>



<dt class="dt dlterm"><a name="spldoc_operator__parameter__topic"><!-- --></a><tt class="ph tt">topic</tt></dt>

<dd class="dd">
<p class="p">Specifies the topic(s) that the producer should send messages to. The value of this parameter will take precedence over the <strong class="ph b">topicAttribute</strong> parameter. This parameter will also take precedence if the input tuple schema contains an attribute named <em class="ph i">topic</em>.
</p>
<dl class="dl">

 <dt class="dt dlterm">Properties </dt>

 <dd class="dd">
  <ul class="sl simple">
  <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__type">Type</a>: rstring
  </li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__optional">Optional</a>: true
     </li>

  </ul>

 </dd>


</dl>

</dd>



<dt class="dt dlterm"><a name="spldoc_operator__parameter__topicAttribute"><!-- --></a><tt class="ph tt">topicAttribute</tt></dt>

<dd class="dd">
<p class="p">Specifies the input attribute that contains the name of the topic that the message should be written to. If this parameter is not specified, the operator will look for an input attribute named <em class="ph i">topic</em>. This parameter value is overridden if the <strong class="ph b">topic</strong> parameter is specified.
</p>
<dl class="dl">

 <dt class="dt dlterm">Properties </dt>

 <dd class="dd">
  <ul class="sl simple">
  <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__type">Type</a>: rstring
  </li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__cardinality">Cardinality</a>: 1
     </li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__optional">Optional</a>: true
     </li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__expressionmode">ExpressionMode</a>: Attribute
     </li>

  </ul>

 </dd>


</dl>

</dd>



<dt class="dt dlterm"><a name="spldoc_operator__parameter__userLib"><!-- --></a><tt class="ph tt">userLib</tt></dt>

<dd class="dd">
<p class="p">Allows the user to specify paths to JAR files that should be loaded into the operators classpath. This is useful if the user wants to be able to specify their own partitioners. The value of this parameter can either point to a specific JAR file, or to a directory. In the case of a directory, the operator will load all files ending in <tt class="ph tt">.jar</tt> onto the classpath. By default, this parameter will load all jar files found in <tt class="ph tt">&lt;application_dir&gt;/etc/libs</tt>.
</p>
<dl class="dl">

 <dt class="dt dlterm">Properties </dt>

 <dd class="dd">
  <ul class="sl simple">
  <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__type">Type</a>: rstring
  </li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__optional">Optional</a>: true
     </li>

  </ul>

 </dd>


</dl>

</dd>


</dl>

</div>

<div class="section">
<p class="p splhead-1"><strong class="ph b"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__context__dependencies">Libraries</a></strong></p>

 <dl class="dl">
 
  <dt class="dt dlterm">Operator class library
  </dt>

  <dd class="dd"/>

  <dd class="dd"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__context__dependencies__managedlibrary__libpath">Library Path</a>: <tt class="ph tt">../../impl/java/bin, ../../opt/downloaded/*, ../../impl/lib/*</tt></dd>

 
 </dl>

</div>

</div>


</body>
</html>